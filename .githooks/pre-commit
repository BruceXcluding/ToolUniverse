#!/bin/bash
echo "🔧 Regenerating tools..."
python scripts/build_tools.py

if [ $? -ne 0 ]; then
    echo "❌ Tools generation failed!"
    exit 1
fi

git add src/tooluniverse/tools/

echo "🧪 Running all tests..."
pytest tests/ -v --tb=short -m "not slow"

if [ $? -ne 0 ]; then
    echo "❌ Tests failed! Please fix before committing."
    exit 1
fi

echo "✅ Tools updated and all tests passed"
